<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Proyecto segundo parcial</title>
    <link rel="stylesheet" href="estail.css" />
</head>
<body>
    <header class="shadow">
        <div>
            <img src="ram.jpeg" alt="logo de la pagina" />
        </div>
        <div>
            <button id="dark-mode">Dark Mode</button>
        </div>
    </header>
    <section class="container-title">
        <h1>The Rick and Morty</h1>
    </section>
    <section class="personajes" id="container-personajes"></section>
    <button id="load-more">Cargar mas Personajes</button>

    <script>
        function renderloader(){
             const container = document.getElementById('container-personajes');
             const loader = document.createElement('div');
             loader.setAttribute('id', 'loader'); 
             loader.innerHTML = 'Cargando...';
             container.appendChild(loader);
        }
        function removeloader(){
            const loade=document.getElementById('loader')
            if(loader){
                loader.remove()
            }
        }
        async function get_personajes() {
            const url = 'https://rickandmortyapi.com/api/character';
             renderloader()
            const response = await fetch(url);
            const data = await response.json();
            const container = document.getElementById('container-personajes');
            const personajes = data.results;
             removeloader();
            personajes.forEach(element => {
                console.log(element);
                const container_personaje = document.createElement('div');
                container_personaje.classList.add('personaje');

                const img = document.createElement('img');
                img.src = element.image;
                img.alt = element.name;

                container_personaje.appendChild(img);
                container.appendChild(container_personaje);
            });
        }
        get_personajes();

        const btn = document.getElementById("load-more");
        function loadMore() {
            console.log("Cargar mas personajes");
        }
        btn.addEventListener("click", loadMore);

        const btnDarkMode = document.getElementById("dark-mode");
        function toggleDarkMode() {
            const body = document.body;
            body.classList.toggle("dark-mode");

            if (body.classList.contains("dark-mode")) {
                btnDarkMode.textContent = "Light Mode";
            } else {
                btnDarkMode.textContent = "Dark Mode";
            }
        }
        btnDarkMode.addEventListener("click", toggleDarkMode);
    </script>
</body>
</html>